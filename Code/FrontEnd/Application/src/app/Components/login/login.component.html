<div class="login-container">
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <h2>Login</h2>

    <div class="form-group">
      <label for="username">Username</label>
      <input
        type="text"
        formControlName="username"
        class="form-control"
        [ngClass]="{
          'is-invalid':
            loginForm.get('username')?.touched &&
            loginForm.get('username')?.errors
        }"
      />
      <div
        class="invalid-feedback"
        *ngIf="
          loginForm.get('username')?.touched &&
          loginForm.get('username')?.errors
        "
      >
        Username is required
      </div>
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input
        type="password"
        formControlName="password"
        class="form-control"
        [ngClass]="{
          'is-invalid':
            loginForm.get('password')?.touched &&
            loginForm.get('password')?.errors
        }"
      />
      <div
        class="invalid-feedback"
        *ngIf="
          loginForm.get('password')?.touched &&
          loginForm.get('password')?.errors
        "
      >
        Password is required
      </div>
    </div>

    <div class="form-group">
      <button [disabled]="loading" class="btn btn-primary">
        <span
          *ngIf="loading"
          class="spinner-border spinner-border-sm mr-1"
        ></span>
        Login
      </button>
    </div>

    <div *ngIf="error" class="alert alert-danger mt-3">{{ error }}</div>
  </form>
</div>
