<div class="checkout-container">
  <h1>Checkout</h1>

  <div class="checkout-content">
    <form
      [formGroup]="checkoutForm"
      (ngSubmit)="onSubmit()"
      class="checkout-form"
    >
      <div class="form-section">
        <h2>Personal Information</h2>
        <div class="form-row">
          <div class="form-group">
            <label for="firstName">First Name</label>
            <input
              type="text"
              id="firstName"
              formControlName="firstName"
              [class.invalid]="
                checkoutForm.get('firstName')?.invalid &&
                checkoutForm.get('firstName')?.touched
              "
            />
            <div
              class="error-message"
              *ngIf="
                checkoutForm.get('firstName')?.invalid &&
                checkoutForm.get('firstName')?.touched
              "
            >
              First name is required
            </div>
          </div>
          <div class="form-group">
            <label for="lastName">Last Name</label>
            <input
              type="text"
              id="lastName"
              formControlName="lastName"
              [class.invalid]="
                checkoutForm.get('lastName')?.invalid &&
                checkoutForm.get('lastName')?.touched
              "
            />
            <div
              class="error-message"
              *ngIf="
                checkoutForm.get('lastName')?.invalid &&
                checkoutForm.get('lastName')?.touched
              "
            >
              Last name is required
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            [class.invalid]="
              checkoutForm.get('email')?.invalid &&
              checkoutForm.get('email')?.touched
            "
          />
          <div
            class="error-message"
            *ngIf="
              checkoutForm.get('email')?.invalid &&
              checkoutForm.get('email')?.touched
            "
          >
            Please enter a valid email address
          </div>
        </div>
      </div>

      <div class="form-section">
        <h2>Shipping Address</h2>
        <div class="form-group">
          <label for="address">Street Address</label>
          <input
            type="text"
            id="address"
            formControlName="address"
            [class.invalid]="
              checkoutForm.get('address')?.invalid &&
              checkoutForm.get('address')?.touched
            "
          />
          <div
            class="error-message"
            *ngIf="
              checkoutForm.get('address')?.invalid &&
              checkoutForm.get('address')?.touched
            "
          >
            Address is required
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="city">City</label>
            <input
              type="text"
              id="city"
              formControlName="city"
              [class.invalid]="
                checkoutForm.get('city')?.invalid &&
                checkoutForm.get('city')?.touched
              "
            />
            <div
              class="error-message"
              *ngIf="
                checkoutForm.get('city')?.invalid &&
                checkoutForm.get('city')?.touched
              "
            >
              City is required
            </div>
          </div>
          <div class="form-group">
            <label for="state">State</label>
            <input
              type="text"
              id="state"
              formControlName="state"
              [class.invalid]="
                checkoutForm.get('state')?.invalid &&
                checkoutForm.get('state')?.touched
              "
            />
            <div
              class="error-message"
              *ngIf="
                checkoutForm.get('state')?.invalid &&
                checkoutForm.get('state')?.touched
              "
            >
              State is required
            </div>
          </div>
          <div class="form-group">
            <label for="zipCode">ZIP Code</label>
            <input
              type="text"
              id="zipCode"
              formControlName="zipCode"
              [class.invalid]="
                checkoutForm.get('zipCode')?.invalid &&
                checkoutForm.get('zipCode')?.touched
              "
            />
            <div
              class="error-message"
              *ngIf="
                checkoutForm.get('zipCode')?.invalid &&
                checkoutForm.get('zipCode')?.touched
              "
            >
              Please enter a valid ZIP code
            </div>
          </div>
        </div>
      </div>

      <div class="form-section">
        <h2>Payment Information</h2>
        <div class="form-group">
          <label for="cardNumber">Card Number</label>
          <input
            type="text"
            id="cardNumber"
            formControlName="cardNumber"
            placeholder="1234 5678 9012 3456"
            [class.invalid]="
              checkoutForm.get('cardNumber')?.invalid &&
              checkoutForm.get('cardNumber')?.touched
            "
          />
          <div
            class="error-message"
            *ngIf="
              checkoutForm.get('cardNumber')?.invalid &&
              checkoutForm.get('cardNumber')?.touched
            "
          >
            Please enter a valid 16-digit card number
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="expiryDate">Expiry Date</label>
            <input
              type="text"
              id="expiryDate"
              formControlName="expiryDate"
              placeholder="MM/YY"
              [class.invalid]="
                checkoutForm.get('expiryDate')?.invalid &&
                checkoutForm.get('expiryDate')?.touched
              "
            />
            <div
              class="error-message"
              *ngIf="
                checkoutForm.get('expiryDate')?.invalid &&
                checkoutForm.get('expiryDate')?.touched
              "
            >
              Please enter a valid expiry date
            </div>
          </div>
          <div class="form-group">
            <label for="cvv">CVV</label>
            <input
              type="text"
              id="cvv"
              formControlName="cvv"
              placeholder="123"
              [class.invalid]="
                checkoutForm.get('cvv')?.invalid &&
                checkoutForm.get('cvv')?.touched
              "
            />
            <div
              class="error-message"
              *ngIf="
                checkoutForm.get('cvv')?.invalid &&
                checkoutForm.get('cvv')?.touched
              "
            >
              Please enter a valid CVV
            </div>
          </div>
        </div>
      </div>

      <div class="order-summary">
        <h2>Order Summary</h2>
        <div class="summary-row">
          <span>Subtotal</span>
          <span>${{ cartTotal }}</span>
        </div>
        <div class="summary-row">
          <span>Shipping</span>
          <span>Free</span>
        </div>
        <div class="summary-row total">
          <span>Total</span>
          <span>${{ cartTotal }}</span>
        </div>
      </div>

      <div class="form-actions">
        <button type="button" class="back-btn" routerLink="/cart">
          Back to Cart
        </button>
        <button
          type="submit"
          class="place-order-btn"
          [disabled]="checkoutForm.invalid"
        >
          Place Order
        </button>
      </div>
    </form>
  </div>
</div>
